<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>JavaScript奇技淫巧45招（转） | sy‘s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
 <meta name="description" content="JavaScript是一个绝冠全球的编程语言，可用于Web开发、移动应用开发（PhoneGap、Appcelerator）、服务器端开发（Node.js和Wakanda）等等。JavaScript还是很多新手踏入编程世界的第一个语言。既可以用来显示浏览器中的简单提示框，也可以通过nodebot或nodruino来控制机器人。能够编写结构清晰、性能高效的JavaScript代码的开发人员，现如今已成">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript奇技淫巧45招（转）">
<meta property="og:url" content="http://mashuangshuang.com/2015/01/11/javascript-skill-magic/">
<meta property="og:site_name" content="sy‘s blog">
<meta property="og:description" content="JavaScript是一个绝冠全球的编程语言，可用于Web开发、移动应用开发（PhoneGap、Appcelerator）、服务器端开发（Node.js和Wakanda）等等。JavaScript还是很多新手踏入编程世界的第一个语言。既可以用来显示浏览器中的简单提示框，也可以通过nodebot或nodruino来控制机器人。能够编写结构清晰、性能高效的JavaScript代码的开发人员，现如今已成">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript奇技淫巧45招（转）">
<meta name="twitter:description" content="JavaScript是一个绝冠全球的编程语言，可用于Web开发、移动应用开发（PhoneGap、Appcelerator）、服务器端开发（Node.js和Wakanda）等等。JavaScript还是很多新手踏入编程世界的第一个语言。既可以用来显示浏览器中的简单提示框，也可以通过nodebot或nodruino来控制机器人。能够编写结构清晰、性能高效的JavaScript代码的开发人员，现如今已成">
 
  
    <link rel="alternative" href="/atom.xml" title="sy‘s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
    <link rel="shortcut icon" href="http://fesy.sinaapp.com/wp-content/themes/twentyeleven/images/sy.ico">
  
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">sy‘s blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">2015脚踏实地</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
          <a class="main-nav-link" href="/book">书籍</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://mashuangshuang.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-javascript-skill-magic" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/11/javascript-skill-magic/" class="article-date">
  <time datetime="2015-01-11T15:19:54.000Z" itemprop="datePublished">Jan 11 2015</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端开发/">前端开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      JavaScript奇技淫巧45招（转）
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>JavaScript是一个绝冠全球的编程语言，可用于Web开发、移动应用开发（PhoneGap、Appcelerator）、服务器端开发（Node.js和Wakanda）等等。JavaScript还是很多新手踏入编程世界的第一个语言。既可以用来显示浏览器中的简单提示框，也可以通过nodebot或nodruino来控制机器人。能够编写结构清晰、性能高效的JavaScript代码的开发人员，现如今已成了招聘市场最受追捧的人。</p>
<p>在这篇文章里，我将分享一些JavaScript的技巧、秘诀和最佳实践，除了少数几个外，不管是浏览器的JavaScript引擎，还是服务器端JavaScript解释器，均适用。</p>
<p>本文中的示例代码，通过了在Google Chrome 30最新版（V8 3.20.17.15）上的测试。<br><a id="more"></a></p>
<p>1、首次为变量赋值时务必使用var关键字</p>
<p>变量没有声明而直接赋值得话，默认会作为一个新的全局变量，要尽量避免使用全局变量。</p>
<p>2、使用===取代==</p>
<p>==和!=操作符会在需要的情况下自动转换数据类型。但===和!==不会，它们会同时比较值和数据类型，这也使得它们要比==和!=快。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[<span class="number">10</span>] === <span class="number">10</span>    // <span class="keyword">is</span> <span class="literal">false</span></div><div class="line">[<span class="number">10</span>]  == <span class="number">10</span>    // <span class="keyword">is</span> <span class="literal">true</span></div><div class="line"><span class="string">'10'</span> == <span class="number">10</span>     // <span class="keyword">is</span> <span class="literal">true</span></div><div class="line"><span class="string">'10'</span> === <span class="number">10</span>    // <span class="keyword">is</span> <span class="literal">false</span></div><div class="line"> []   == <span class="number">0</span>     // <span class="keyword">is</span> <span class="literal">true</span></div><div class="line"> [] ===  <span class="number">0</span>     // <span class="keyword">is</span> <span class="literal">false</span></div><div class="line"> <span class="string">''</span> == <span class="literal">false</span>   <span class="regexp">//</span> <span class="keyword">is</span> <span class="literal">true</span> but <span class="literal">true</span> == <span class="string">"a"</span> <span class="keyword">is</span> <span class="literal">false</span></div><div class="line"> <span class="string">''</span> === <span class="literal">false</span>  <span class="regexp">//</span> <span class="keyword">is</span> <span class="literal">false</span></div></pre></td></tr></table></figure>

<p>3、underfined、null、0、false、NaN、空字符串的逻辑结果均为false</p>
<p>4、行尾使用分号</p>
<p>实践中最好还是使用分号，忘了写也没事，大部分情况下JavaScript解释器都会自动添加。对于为何要使用分号，可参考文章JavaScript中关于分号的真相。</p>
<p>5、使用对象构造器</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">(firstName, lastName)</span></span>{</div><div class="line">    <span class="keyword">this</span>.firstName =  firstName;</div><div class="line">    <span class="keyword">this</span>.lastName = lastName;</div><div class="line">}</div><div class="line"><span class="keyword">var</span> Saad = <span class="keyword">new</span> Person(<span class="string">"Saad"</span>, <span class="string">"Mousliki"</span>);</div></pre></td></tr></table></figure>

<p>6、小心使用typeof、instanceof和contructor</p>
<p>typeof：JavaScript一元操作符，用于以字符串的形式返回变量的原始类型，注意，typeof null也会返回object，大多数的对象类型（数组Array、时间Date等）也会返回object<br>contructor：内部原型属性，可以通过代码重写<br>instanceof：JavaScript操作符，会在原型链中的构造器中搜索，找到则返回true，否则返回false</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</div><div class="line"><span class="keyword">typeof</span> arr;   <span class="comment">// 返回 "object" </span></div><div class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span> <span class="comment">// true</span></div><div class="line">arr.constructor();  <span class="comment">//[]</span></div></pre></td></tr></table></figure>

<p>7、使用自调用函数</p>
<p>函数在创建之后直接自动执行，通常称之为自调用匿名函数（Self-Invoked Anonymous Function）或直接调用函数表达式（Immediately Invoked Function Expression ）。格式如下：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">(function(){</div><div class="line">    // 置于此处的代码将自动执行</div><div class="line">})();  </div><div class="line">(function(a,b){</div><div class="line">    <span class="keyword">var</span> <span class="literal">result</span> = a+b;</div><div class="line">    <span class="keyword">return</span> <span class="literal">result</span>;</div><div class="line">})(<span class="number">10</span>,<span class="number">20</span>)</div></pre></td></tr></table></figure>

<p>8、从数组中随机获取成员</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var items = [<span class="number">12</span>, <span class="number">548</span> , '<span class="literal">a</span>' , <span class="number">2</span> , <span class="number">5478</span> , 'foo' , <span class="number">8852</span>, , 'Doe' , <span class="number">2145</span> , <span class="number">119</span>]<span class="comment">;</span></div><div class="line">var  randomItem = items[Math.floor(Math.random() * items.length)]<span class="comment">;</span></div></pre></td></tr></table></figure>

<p>9、获取指定范围内的随机数</p>
<p>这个功能在生成测试用的假数据时特别有数，比如介与指定范围内的工资数。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var x = Math.<span class="built_in">floor</span>(Math.<span class="built_in">random</span>() * (<span class="built_in">max</span> - <span class="built_in">min</span> + <span class="number">1</span>)) + <span class="built_in">min</span>;</div></pre></td></tr></table></figure>

<p>10、生成从0到指定值的数字数组</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var numbersArray = [] , max = <span class="number">100</span>;</div><div class="line"><span class="keyword">for</span>( var i=<span class="number">1</span>; numbersArray.push(i++) &lt; max;);  // numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> <span class="keyword">...</span> <span class="number">100</span>]</div></pre></td></tr></table></figure>

<p>11、生成随机的字母数字字符串</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateRandomAlphaNum</span><span class="params">(len)</span> </span>{</div><div class="line">    <span class="keyword">var</span> rdmString = <span class="string">""</span>;</div><div class="line">    <span class="keyword">for</span>( ; rdmString.length &lt; len; rdmString  += <span class="built_in">Math</span>.random().toString(<span class="number">36</span>).substr(<span class="number">2</span>));</div><div class="line">    <span class="keyword">return</span>  rdmString.substr(<span class="number">0</span>, len);</div><div class="line">}</div></pre></td></tr></table></figure>

<p>12、打乱数字数组的顺序</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> numbers = [<span class="number">5</span>, <span class="number">458</span> , <span class="number">120</span> , -<span class="number">215</span> , <span class="number">228</span> , <span class="number">400</span> , <span class="number">122205</span>, -<span class="number">85411</span>];</div><div class="line">numbers = numbers.sort(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>{ <span class="keyword">return</span> <span class="built_in">Math</span>.random() - <span class="number">0.5</span>});</div><div class="line"><span class="comment">/* numbers 数组将类似于 [120, 5, 228, -215, 400, 458, -85411, 122205]  */</span></div></pre></td></tr></table></figure>

<p>这里使用了JavaScript内置的数组排序函数，更好的办法是用专门的代码来实现（如Fisher-Yates算法），可以参见StackOverFlow上的这个讨论。</p>
<p>13、字符串去空格</p>
<p>Java、C#和PHP等语言都实现了专门的字符串去空格函数，但JavaScript中是没有的，可以通过下面的代码来为String对象函数一个trim函数：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">String</span>.prototype.trim = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>{<span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="regexp">/^\s+|\s+$/g</span>, <span class="string">""</span>);};</div></pre></td></tr></table></figure>

<p>新的JavaScript引擎已经有了trim()的原生实现。</p>
<p>14、数组之间追加</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var array1 = [12 , <span class="string">"foo"</span> , {name <span class="string">"Joe"</span>} , -2458];</div><div class="line">var array2 = [<span class="string">"Doe"</span> , 555 , 100];</div><div class="line">Array.prototype.push.apply(array1, array2);</div><div class="line">/<span class="keyword">*</span> array1 值为  [12 , <span class="string">"foo"</span> , {name <span class="string">"Joe"</span>} , -2458 , <span class="string">"Doe"</span> , 555 , 100] <span class="keyword">*</span>/</div></pre></td></tr></table></figure>

<p>15、对象转换为数组</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> argArray = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</div></pre></td></tr></table></figure>

<p>16、验证是否是数字</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isNumber</span><span class="params">(n)</span></span>{</div><div class="line">    <span class="keyword">return</span> !<span class="built_in">isNaN</span>(<span class="built_in">parseFloat</span>(n)) && <span class="built_in">isFinite</span>(n);</div><div class="line">}</div></pre></td></tr></table></figure>

<p>17、验证是否是数组</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span><span class="params">(obj)</span></span>{</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(obj) === <span class="string">'[object Array]'</span> ;</div><div class="line">}</div><div class="line">但如果toString()方法被重写过得话，就行不通了。也可以使用下面的方法：</div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="type">Array</span>.isArray(obj); // its a new <span class="type">Array</span> <span class="keyword">method</span></div></pre></td></tr></table></figure>

<p>如果在浏览器中没有使用frame，还可以用instanceof，但如果上下文太复杂，也有可能出错。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myFrame = <span class="built_in">document</span>.createElement(<span class="string">'iframe'</span>);</div><div class="line"><span class="built_in">document</span>.body.appendChild(myFrame);</div><div class="line"><span class="keyword">var</span> myArray = <span class="built_in">window</span>.frames[<span class="built_in">window</span>.frames.length-<span class="number">1</span>].Array;</div><div class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> myArray(a,b,<span class="number">10</span>); <span class="comment">// [a,b,10]  </span></div><div class="line"><span class="comment">// myArray 的构造器已经丢失，instanceof 的结果将不正常</span></div><div class="line"><span class="comment">// 构造器是不能跨 frame 共享的</span></div><div class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// false</span></div></pre></td></tr></table></figure>

<p>18、获取数组中的最大值和最小值</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span>  numbers = [<span class="number">5</span>, <span class="number">458</span> , <span class="number">120</span> , -<span class="number">215</span> , <span class="number">228</span> , <span class="number">400</span> , <span class="number">122205</span>, -<span class="number">85411</span>]; </div><div class="line"><span class="keyword">var</span> maxInNumbers = <span class="built_in">Math</span>.max.apply(<span class="built_in">Math</span>, numbers); </div><div class="line"><span class="keyword">var</span> minInNumbers = <span class="built_in">Math</span>.min.apply(<span class="built_in">Math</span>, numbers);</div></pre></td></tr></table></figure>

<p>19、清空数组</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myArray = [<span class="number">12</span> , <span class="number">222</span> , <span class="number">1000</span> ];  </div><div class="line">myArray.length = <span class="number">0</span>; <span class="comment">// myArray will be equal to [].</span></div></pre></td></tr></table></figure>

<p>20、不要直接从数组中delete或remove元素</p>
<p>如果对数组元素直接使用delete，其实并没有删除，只是将元素置为了undefined。数组元素删除应使用splice。</p>
<p>切忌：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var <span class="built_in">items</span> = [<span class="number">12</span>, <span class="number">548</span> ,<span class="string">'a'</span> , <span class="number">2</span> , <span class="number">5478</span> , <span class="string">'foo'</span> , <span class="number">8852</span>, , <span class="string">'Doe'</span> ,<span class="number">2154</span> , <span class="number">119</span> ]; </div><div class="line"><span class="built_in">items</span>.length; // <span class="keyword">return</span> <span class="number">11</span> </div><div class="line"><span class="built_in">delete</span> <span class="built_in">items</span>[<span class="number">3</span>]; // <span class="keyword">return</span> true </div><div class="line"><span class="built_in">items</span>.length; // <span class="keyword">return</span> <span class="number">11</span> </div><div class="line">/* <span class="built_in">items</span> 结果为 [<span class="number">12</span>, <span class="number">548</span>, <span class="string">"a"</span>, undefined × <span class="number">1</span>, <span class="number">5478</span>, <span class="string">"foo"</span>, <span class="number">8852</span>, undefined × <span class="number">1</span>, <span class="string">"Doe"</span>, <span class="number">2154</span>, <span class="number">119</span>] */</div></pre></td></tr></table></figure>

<p>而应：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var items = [<span class="number">12</span>, <span class="number">548</span> ,'<span class="literal">a</span>' , <span class="number">2</span> , <span class="number">5478</span> , 'foo' , <span class="number">8852</span>, , 'Doe' ,<span class="number">2154</span> , <span class="number">119</span> ]<span class="comment">; </span></div><div class="line">items.length<span class="comment">; // return 11 </span></div><div class="line">items.splice(<span class="number">3</span>,<span class="number">1</span>) <span class="comment">; </span></div><div class="line">items.length<span class="comment">; // return 10 </span></div><div class="line">/* items 结果为 [<span class="number">12</span>, <span class="number">548</span>, <span class="string">"a"</span>, <span class="number">5478</span>, <span class="string">"foo"</span>, <span class="number">8852</span>, undefined × <span class="number">1</span>, <span class="string">"Doe"</span>, <span class="number">2154</span>, <span class="number">119</span>]</div></pre></td></tr></table></figure>

<p>删除对象的属性时可以使用delete。</p>
<p>21、使用length属性截断数组</p>
<p>前面的例子中用length属性清空数组，同样还可用它来截断数组：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myArray = [<span class="number">12</span> , <span class="number">222</span> , <span class="number">1000</span> , <span class="number">124</span> , <span class="number">98</span> , <span class="number">10</span> ];  </div><div class="line">myArray.length = <span class="number">4</span>; <span class="comment">// myArray will be equal to [12 , 222 , 1000 , 124].</span></div></pre></td></tr></table></figure>

<p>与此同时，如果把length属性变大，数组的长度值变会增加，会使用undefined来作为新的元素填充。length是一个可写的属性。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">myArray.<span class="built_in">length</span> = <span class="number">10</span>; <span class="comment">// the new array length is 10 </span></div><div class="line">myArray[myArray.<span class="built_in">length</span> - <span class="number">1</span>] ; <span class="comment">// undefined</span></div></pre></td></tr></table></figure>

<p>22、在条件中使用逻辑与或</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var foo = <span class="number">10</span>;  </div><div class="line">foo == <span class="number">10</span> && <span class="keyword">do</span>Something(); // is the same thing as <span class="keyword">if</span> (foo == <span class="number">10</span>) <span class="keyword">do</span>Something(); </div><div class="line">foo == <span class="number">5</span> || <span class="keyword">do</span>Something(); // is the same thing as <span class="keyword">if</span> (foo != <span class="number">5</span>) <span class="keyword">do</span>Something();</div></pre></td></tr></table></figure>

<p>逻辑或还可用来设置默认值，比如函数参数的默认值。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span><span class="params">(arg1)</span></span>{ </div><div class="line">    arg1 = arg1 || <span class="number">10</span>; <span class="comment">// arg1 will have 10 as a default value if it’s not already set</span></div><div class="line">}</div></pre></td></tr></table></figure>

<p>23、使得map()函数方法对数据循环</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> squares = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].map(<span class="function"><span class="keyword">function</span> <span class="params">(val)</span> </span>{  </div><div class="line">    <span class="keyword">return</span> val * val;  </div><div class="line">}); </div><div class="line"><span class="comment">// squares will be equal to [1, 4, 9, 16]</span></div></pre></td></tr></table></figure>

<p>24、保留指定小数位数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num =<span class="number">2.443242342</span>;</div><div class="line">num = num.toFixed(<span class="number">4</span>);  <span class="comment">// num will be equal to 2.4432</span></div></pre></td></tr></table></figure>

<p>注意，toFixec()返回的是字符串，不是数字。</p>
<p>25、浮点计算的问题</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">0.1</span> + <span class="number">0.2</span> === <span class="number">0.3</span> // <span class="keyword">is</span> false </div><div class="line"><span class="number">9007199254740992</span> + <span class="number">1</span> // <span class="keyword">is</span> equal <span class="keyword">to</span> <span class="number">9007199254740992</span></div><div class="line"><span class="number">9007199254740992</span> + <span class="number">2</span> // <span class="keyword">is</span> equal <span class="keyword">to</span> <span class="number">9007199254740994</span></div></pre></td></tr></table></figure>

<p>为什么呢？因为0.1+0.2等于0.30000000000000004。JavaScript的数字都遵循IEEE 754标准构建，在内部都是64位浮点小数表示，具体可以参见JavaScript中的数字是如何编码的.</p>
<p>可以通过使用toFixed()和toPrecision()来解决这个问题。</p>
<p>26、通过for-in循环检查对象的属性</p>
<p>下面这样的用法，可以防止迭代的时候进入到对象的原型属性中。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> name <span class="keyword">in</span> <span class="keyword">object</span>) {  </div><div class="line">    <span class="keyword">if</span> (<span class="keyword">object</span>.hasOwnProperty(name)) { </div><div class="line">        <span class="comment">// do something with name</span></div><div class="line">    }  </div><div class="line">}</div></pre></td></tr></table></figure>

<p>27、逗号操作符</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="number">0</span>; </div><div class="line"><span class="keyword">var</span> b = ( a++, <span class="number">99</span> ); </div><div class="line"><span class="built_in">console</span>.log(a);  <span class="comment">// a will be equal to 1 </span></div><div class="line"><span class="built_in">console</span>.log(b);  <span class="comment">// b is equal to 99</span></div></pre></td></tr></table></figure>

<p>28、临时存储用于计算和查询的变量</p>
<p>在jQuery选择器中，可以临时存储整个DOM元素。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> navright = <span class="built_in">document</span>.querySelector(<span class="string">'#right'</span>); </div><div class="line"><span class="keyword">var</span> navleft = <span class="built_in">document</span>.querySelector(<span class="string">'#left'</span>); </div><div class="line"><span class="keyword">var</span> navup = <span class="built_in">document</span>.querySelector(<span class="string">'#up'</span>); </div><div class="line"><span class="keyword">var</span> navdown = <span class="built_in">document</span>.querySelector(<span class="string">'#down'</span>);</div></pre></td></tr></table></figure>

<p>29、提前检查传入isFinite()的参数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">isFinite</span>(<span class="number">0</span>/<span class="number">0</span>) ; <span class="comment">// false</span></div><div class="line"><span class="built_in">isFinite</span>(<span class="string">"foo"</span>); <span class="comment">// false</span></div><div class="line"><span class="built_in">isFinite</span>(<span class="string">"10"</span>); <span class="comment">// true</span></div><div class="line"><span class="built_in">isFinite</span>(<span class="number">10</span>);   <span class="comment">// true</span></div><div class="line"><span class="built_in">isFinite</span>(<span class="literal">undefined</span>);  <span class="comment">// false</span></div><div class="line"><span class="built_in">isFinite</span>();   <span class="comment">// false</span></div><div class="line"><span class="built_in">isFinite</span>(<span class="literal">null</span>);  <span class="comment">// true，这点当特别注意</span></div></pre></td></tr></table></figure>

<p>30、避免在数组中使用负数做索引</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> numbersArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</div><div class="line"><span class="keyword">var</span> <span class="keyword">from</span> = numbersArray.indexOf(<span class="string">"foo"</span>) ;  <span class="comment">// from is equal to -1</span></div><div class="line">numbersArray.splice(<span class="keyword">from</span>,<span class="number">2</span>);    <span class="comment">// will return [5]</span></div></pre></td></tr></table></figure>

<p>注意传给splice的索引参数不要是负数，当是负数时，会从数组结尾处删除元素。</p>
<p>31、用JSON来序列化与反序列化</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var person = {<span class="property">name</span> :'Saad', age : <span class="number">26</span>, department : {ID : <span class="number">15</span>, <span class="property">name</span> : <span class="string">"R&D"</span>} };</div><div class="line">var stringFromPerson = JSON.stringify(person);</div><div class="line">/* stringFromPerson 结果为 <span class="string">"{"</span><span class="property">name</span><span class="string">":"</span>Saad<span class="string">","</span>age<span class="string">":26,"</span>department<span class="string">":{"</span>ID<span class="string">":15,"</span><span class="property">name</span><span class="string">":"</span>R&D<span class="string">"}}"</span>   */</div><div class="line">var personFromString = JSON.parse(stringFromPerson);</div></pre></td></tr></table></figure>

<p>/<em> personFromString 的值与 person 对象相同  </em>/<br>32、不要使用eval()或者函数构造器</p>
<p>eval()和函数构造器（Function consturctor）的开销较大，每次调用，JavaScript引擎都要将源代码转换为可执行的代码。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> func1 = <span class="keyword">new</span> <span class="function"><span class="keyword">Function</span><span class="params">(functionCode)</span></span>;</div><div class="line"><span class="keyword">var</span> func2 = <span class="keyword">eval</span>(functionCode);</div></pre></td></tr></table></figure>

<p>33、避免使用with()</p>
<p>使用with()可以把变量加入到全局作用域中，因此，如果有其它的同名变量，一来容易混淆，二来值也会被覆盖。</p>
<p>34、不要对数组使用for-in</p>
<p>避免：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">var</span> <span class="keyword">sum</span> <span class="subst">=</span> <span class="number">0</span>;  </div><div class="line">for (<span class="built_in">var</span> i <span class="keyword">in</span> arrayNumbers) {  </div><div class="line">    <span class="keyword">sum</span> <span class="subst">+=</span> arrayNumbers<span class="preprocessor">[</span>i<span class="preprocessor">]</span><span class="markup">;  </span></div><div class="line">}</div></pre></td></tr></table></figure>

<p>而是：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var <span class="built_in">sum</span> = <span class="number">0</span>;  </div><div class="line"><span class="keyword">for</span> (var i = <span class="number">0</span>, <span class="built_in">len</span> = arrayNumbers.<span class="built_in">length</span>; i &lt; <span class="built_in">len</span>; i++) {  </div><div class="line">    <span class="built_in">sum</span> += arrayNumbers[i];  </div><div class="line">}</div></pre></td></tr></table></figure>

<p>另外一个好处是，i和len两个变量是在for循环的第一个声明中，二者只会初始化一次，这要比下面这种写法快：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (var <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; <span class="transposed_variable">arrayNumbers.</span><span class="built_in">length</span>; <span class="built_in">i</span>++)</div></pre></td></tr></table></figure>

<p>35、传给setInterval()和setTimeout()时使用函数而不是字符串</p>
<p>如果传给setTimeout()和setInterval()一个字符串，他们将会用类似于eval方式进行转换，这肯定会要慢些，因此不要使用：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">set</span>Interval(<span class="string">'doSomethingPeriodically()'</span>, <span class="number">1000</span>);  </div><div class="line"><span class="keyword">set</span>Timeout(<span class="string">'doSomethingAfterFiveSeconds()'</span>, <span class="number">5000</span>);</div></pre></td></tr></table></figure>

<p>而是用：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">set</span>Interval(<span class="keyword">do</span>SomethingPeriodically, <span class="number">1000</span>);  </div><div class="line"><span class="keyword">set</span>Timeout(<span class="keyword">do</span>SomethingAfterFiveSeconds, <span class="number">5000</span>);</div></pre></td></tr></table></figure>

<p>36、使用switch/case代替一大叠的if/else</p>
<p>当判断有超过两个分支的时候使用switch/case要更快一些，而且也更优雅，更利于代码的组织，当然，如果有超过10个分支，就不要使用switch/case了。</p>
<p>37、在switch/case中使用数字区间</p>
<p>其实，switch/case中的case条件，还可以这样写：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCategory</span><span class="params">(age)</span> </span>{  </div><div class="line">    <span class="keyword">var</span> category = <span class="string">""</span>;  </div><div class="line">    <span class="keyword">switch</span> (<span class="literal">true</span>) {  </div><div class="line">        <span class="keyword">case</span> <span class="built_in">isNaN</span>(age):  </div><div class="line">            category = <span class="string">"not an age"</span>;  </div><div class="line">            <span class="keyword">break</span>;  </div><div class="line">        <span class="keyword">case</span> (age &gt;= <span class="number">50</span>):  </div><div class="line">            category = <span class="string">"Old"</span>;  </div><div class="line">            <span class="keyword">break</span>;  </div><div class="line">        <span class="keyword">case</span> (age &lt;= <span class="number">20</span>):  </div><div class="line">            category = <span class="string">"Baby"</span>;  </div><div class="line">            <span class="keyword">break</span>;  </div><div class="line">        <span class="keyword">default</span>:  </div><div class="line">            category = <span class="string">"Young"</span>;  </div><div class="line">            <span class="keyword">break</span>;  </div><div class="line">    };  </div><div class="line">    <span class="keyword">return</span> category;  </div><div class="line">}  </div><div class="line">getCategory(<span class="number">5</span>);  <span class="comment">// 将返回 "Baby"</span></div></pre></td></tr></table></figure>

<p>38、使用对象作为对象的原型</p>
<p>下面这样，便可以给定对象作为参数，来创建以此为原型的新对象：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span><span class="params">(object)</span> </span>{  </div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">OneShotConstructor</span><span class="params">()</span></span>{}; </div><div class="line">    OneShotConstructor.prototype = object;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> OneShotConstructor(); </div><div class="line">} </div><div class="line"><span class="keyword">clone</span>(<span class="keyword">Array</span>).prototype ;  <span class="comment">// []</span></div></pre></td></tr></table></figure>

<p>39、HTML字段转换函数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">escapeHTML</span><span class="params">(text)</span> </span>{  </div><div class="line">    <span class="keyword">var</span> replacements= {<span class="string">"&lt;"</span>: <span class="string">"&lt;"</span>, <span class="string">"&gt;"</span>: <span class="string">"&gt;"</span>,<span class="string">"&"</span>: <span class="string">"&"</span>, <span class="string">"\""</span>: <span class="string">""</span><span class="string">"};                      </span></div><div class="line">    return text.replace(/[&lt;&gt;&"]/g, <span class="function"><span class="keyword">function</span><span class="params">(character)</span> </span>{  </div><div class="line">        <span class="keyword">return</span> replacements[character];  </div><div class="line">    }); </div><div class="line">}</div></pre></td></tr></table></figure>

<p>40、不要在循环内部使用try-catch-finally</p>
<p>try-catch-finally中catch部分在执行时会将异常赋给一个变量，这个变量会被构建成一个运行时作用域内的新的变量。</p>
<p>切忌：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> <span class="keyword">object</span> = [<span class="string">'foo'</span>, <span class="string">'bar'</span>], i;  </div><div class="line"><span class="keyword">for</span> (i = <span class="number">0</span>, len = <span class="keyword">object</span>.length; i &lt;len; i++) {  </div><div class="line">    <span class="keyword">try</span> {  </div><div class="line">        <span class="comment">// do something that throws an exception </span></div><div class="line">    }  </div><div class="line">    <span class="keyword">catch</span> (e) {   </div><div class="line">        <span class="comment">// handle exception  </span></div><div class="line">    } </div><div class="line">}</div></pre></td></tr></table></figure>

<p>而应该：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> <span class="keyword">object</span> = [<span class="string">'foo'</span>, <span class="string">'bar'</span>], i;  </div><div class="line"><span class="keyword">try</span> { </div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>, len = <span class="keyword">object</span>.length; i &lt;len; i++) {  </div><div class="line">        <span class="comment">// do something that throws an exception </span></div><div class="line">    } </div><div class="line">} </div><div class="line"><span class="keyword">catch</span> (e) {   </div><div class="line">    <span class="comment">// handle exception  </span></div><div class="line">}</div></pre></td></tr></table></figure>

<p>41、使用XMLHttpRequests时注意设置超时</p>
<p>XMLHttpRequests在执行时，当长时间没有响应（如出现网络问题等）时，应该中止掉连接，可以通过setTimeout()来完成这个工作：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest (); </div><div class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{  </div><div class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.readyState == <span class="number">4</span>) {  </div><div class="line">        clearTimeout(timeout);  </div><div class="line">        <span class="comment">// do something with response data </span></div><div class="line">    }  </div><div class="line">}  </div><div class="line"><span class="keyword">var</span> timeout = setTimeout( <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{  </div><div class="line">    xhr.abort(); <span class="comment">// call error callback  </span></div><div class="line">}, <span class="number">60</span>*<span class="number">1000</span> <span class="comment">/* timeout after a minute */</span> ); </div><div class="line">xhr.open(<span class="string">'GET'</span>, url, <span class="literal">true</span>);  </div><div class="line">xhr.send();</div></pre></td></tr></table></figure>

<p>同时需要注意的是，不要同时发起多个XMLHttpRequests请求。</p>
<p>42、处理WebSocket的超时</p>
<p>通常情况下，WebSocket连接创建后，如果30秒内没有任何活动，服务器端会对连接进行超时处理，防火墙也可以对单位周期没有活动的连接进行超时处理。</p>
<p>为了防止这种情况的发生，可以每隔一定时间，往服务器发送一条空的消息。可以通过下面这两个函数来实现这个需求，一个用于使连接保持活动状态，另一个专门用于结束这个状态。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> timerID = <span class="number">0</span>; </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">keepAlive</span><span class="params">()</span> </span>{ </div><div class="line">    <span class="keyword">var</span> timeout = <span class="number">15000</span>;  </div><div class="line">    <span class="keyword">if</span> (webSocket.readyState == webSocket.OPEN) {  </div><div class="line">        webSocket.send(<span class="string">''</span>);  </div><div class="line">    }  </div><div class="line">    timerId = setTimeout(keepAlive, timeout);  </div><div class="line">}  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">cancelKeepAlive</span><span class="params">()</span> </span>{  </div><div class="line">    <span class="keyword">if</span> (timerId) {  </div><div class="line">        cancelTimeout(timerId);  </div><div class="line">    }  </div><div class="line">}</div></pre></td></tr></table></figure>

<p>keepAlive()函数可以放在WebSocket连接的onOpen()方法的最后面，cancelKeepAlive()放在onClose()方法的最末尾。</p>
<p>43、时间注意原始操作符比函数调用快，使用VanillaJS</p>
<p>比如，一般不要这样：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> <span class="built_in">min</span> = <span class="type">Math</span>.<span class="built_in">min</span>(a,b); </div><div class="line"><span class="type">A</span>.push(v);</div></pre></td></tr></table></figure>

<p>可以这样来代替：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var <span class="built_in">min</span> = a &lt; b ? a : b; </div><div class="line">A[A.<span class="built_in">length</span>] = v;</div></pre></td></tr></table></figure>

<p>44、开发时注意代码结构，上线前检查并压缩JavaScript代码</p>
<p>可以使用JSLint或JSMin等工具来检查并压缩代码。</p>
<p>45、JavaScript博大精深，这里有些不错的学习资源</p>
<p>Code Academy资源：<a href="http://www.codecademy.com/tracks/javascript" target="_blank" rel="external">http://www.codecademy.com/tracks/javascript</a><br>Marjin Haverbekex编写的Eloquent JavaScript：<a href="http://eloquentjavascript.net/" target="_blank" rel="external">http://eloquentjavascript.net/</a><br>John Resig编写的Advanced JavaScript：<a href="http://ejohn.org/apps/learn/" target="_blank" rel="external">http://ejohn.org/apps/learn/</a></p>
<p><em><a href="http://chensd.com/2015-01/45-useful-javascript-tips-tricks-and-best-practices.html" target="_blank" rel="external">原文地址</a></em></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://mashuangshuang.com/2015/01/11/javascript-skill-magic/" data-id="i9lwv3t51uebd4d1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/01/17/javascrpt-dom-selecor/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          javascrpt 获取元素的方法
        
      </div>
    </a>
  
  
    <a href="/2015/01/11/javascript-bast-practices-part/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Javascrpit最佳实践（一）</div>
    </a>
  
</nav>

  
</article>


<div class="ds-thread" data-thread-key="2015/01/11/javascript-skill-magic/" data-title="JavaScript奇技淫巧45招（转）" data-url="http://mashuangshuang.com/2015/01/11/javascript-skill-magic/"></div>
<section class="comments">
  
  <script type="text/javascript">
    var duoshuoQuery = {short_name:"msy"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0] 
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script> 
  
</section>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/前端开发/">前端开发</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端框架/">前端框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/后台开发/">后台开发</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/微信开发/">微信开发</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/框架实践/">框架实践</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活碎片/">生活碎片</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/视野拓展/">视野拓展</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    <div class="widget-wrap">
	<h3 class="widget-title">友情链接</h3>
	<div class="widget">
		<ul class="category-list">
			<li class="category-list-item">
				<a href="http://yexiaochai.cnblogs.com/" title="叶小钗个人博客">叶小钗</a>
			</li>
			<li class="category-list-item">
				<a href="http://yujiangshui.com/" title="于江水个人博客">于江水</a>
			</li>
			<li class="category-list-item">
				<a href="http://code.wileam.com/" title="小雪博客">小雪</a>
			</li>
		</ul>
	</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/YII/" style="font-size: NaNpx;">YII</a><a href="/tags/bootstrap/" style="font-size: NaNpx;">bootstrap</a><a href="/tags/echarts/" style="font-size: NaNpx;">echarts</a><a href="/tags/hexo博客/" style="font-size: NaNpx;">hexo博客</a><a href="/tags/loser/" style="font-size: NaNpx;">loser</a><a href="/tags/view/" style="font-size: NaNpx;">view</a><a href="/tags/前端图书/" style="font-size: NaNpx;">前端图书</a><a href="/tags/前端构建工具/" style="font-size: NaNpx;">前端构建工具</a><a href="/tags/反思/" style="font-size: NaNpx;">反思</a><a href="/tags/微信-js-sdk/" style="font-size: NaNpx;">微信 js-sdk</a><a href="/tags/心灵忏悔/" style="font-size: NaNpx;">心灵忏悔</a><a href="/tags/折腾/" style="font-size: NaNpx;">折腾</a><a href="/tags/数据可视化/" style="font-size: NaNpx;">数据可视化</a><a href="/tags/生活碎片/" style="font-size: NaNpx;">生活碎片</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/01/22/fe-book-resource/">前端图书推荐</a>
          </li>
        
          <li>
            <a href="/2015/01/17/weixin-js-sdk/">微信js-sdk实践</a>
          </li>
        
          <li>
            <a href="/2015/01/17/javascrpt-dom-selecor/">javascrpt 获取元素的方法</a>
          </li>
        
          <li>
            <a href="/2015/01/11/javascript-skill-magic/">JavaScript奇技淫巧45招（转）</a>
          </li>
        
          <li>
            <a href="/2015/01/11/javascript-bast-practices-part/">Javascrpit最佳实践（一）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=2001111420&verifier=f0469716&dpc=1"></iframe>
  
    

  <div class="widget-wrap">
    <h3 class="widget-title">最近访客</h3>
    <div class="widget">
	  <ul class="ds-recent-visitors" data-num-items="12"></ul>
	</div>
  </div>

  
</aside>
        
      </div>
      <footer class="wrapperfooter">
<div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m mashuangshuang in lirange. <br/>
			this is my hexo blog,welcome</p>
	</section>
	 
	<div class="social-font clearfix">
		
		<a href="http://weibo.com/2001111420" target="_blank" title="weibo"></a>
		
		
		<a href="https://twitter.com/FEsy" target="_blank" title="twitter"></a>
		
		
		<a href="https://github.com/FEsy" target="_blank" title="github"></a>
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2015 
		
		<a href="http://mashuangshuang.com" target="_blank" title="sy">sy</a>
		
		</p>
</div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
    <a href="/book" class="mobile-nav-link">书籍</a>
  
</nav>
    
<script src="http://libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
<script type="text/javascript">
	$(window).scroll(function(){
		var scrollTop = $(this).scrollTop();
		var fixedDom = $("#header");
		console.log(scrollTop);
		if(scrollTop > 60){
			if (window.XMLHttpRequest) {
				fixedDom.css({
					position: "fixed",
					width: "100%",
					height: 60,
					"z-index": 10
				});
			} else {
				fixedDom.css({
					top: scrolls
				});
			}
			$("#subtitle-wrap").hide();
		}else{
			fixedDom.css({
				position : "relative",
				height : 300
			})
			$("#subtitle-wrap").show();
		}
	})
</script>

  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/script.js" type="text/javascript"></script>


<div id="jsTotop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;">
	<a title="返回顶部">
		<img src="/image/iconTop.png"/>
	</a>
</div>
<script src="/js/totop.js" type="text/javascript"></script>




  </div>
</body>
</html>